# üöÄ –®–≤–∏–¥–∫–∏–π –≥–∞–π–¥ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Supabase

## 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Supabase –ø—Ä–æ–µ–∫—Ç—É

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [supabase.com](https://supabase.com) —Ç–∞ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—è
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New project"**
3. –í–∏–±–µ—Ä—ñ—Ç—å –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—é —Ç–∞ –≤–≤–µ–¥—ñ—Ç—å:
   - **Name**: `car-payments-bot` (–∞–±–æ –±—É–¥—å-—è–∫–∞ –Ω–∞–∑–≤–∞)
   - **Database Password**: –∑–∞–ø–∞–º'—è—Ç–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å
   - **Region**: –æ–±–µ—Ä—ñ—Ç—å –Ω–∞–π–±–ª–∏–∂—á–∏–π —Ä–µ–≥—ñ–æ–Ω
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create new project"**
5. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è (2-3 —Ö–≤–∏–ª–∏–Ω–∏)

## 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

1. –£ –ª—ñ–≤–æ–º—É –º–µ–Ω—é –æ–±–µ—Ä—ñ—Ç—å **"SQL Editor"**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New query"**
3. –°–∫–æ–ø—ñ—é–π—Ç–µ –≤–µ—Å—å –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É `supabase_setup.sql` —Ç–∞ –≤—Å—Ç–∞–≤—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Run"** –∞–±–æ `Ctrl+Enter`
5. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ –∫–æ–º–∞–Ω–¥–∏ –≤–∏–∫–æ–Ω–∞–ª–∏—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫

## 3. –û—Ç—Ä–∏–º–∞–Ω–Ω—è API –∫–ª—é—á—ñ–≤

1. –£ –ª—ñ–≤–æ–º—É –º–µ–Ω—é –æ–±–µ—Ä—ñ—Ç—å **"Settings"**
2. –û–±–µ—Ä—ñ—Ç—å **"API"**
3. –°–∫–æ–ø—ñ—é–π—Ç–µ:
   - **Project URL** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `https://abcdefgh.supabase.co`)
   - **anon public** –∫–ª—é—á (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `eyJhbGciOiJIUzI1NiIs...`)

## 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–æ—Ç–∞

1. –°–∫–æ–ø—ñ—é–π—Ç–µ `bot_config_example.txt` —è–∫ `bot_config.env`:
   ```bash
   cp bot_config_example.txt bot_config.env
   ```

2. –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `bot_config.env`:
   ```env
   BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–≤—ñ–¥_BotFather
   SUPABASE_URL=https://abcdefgh.supabase.co
   SUPABASE_KEY=eyJhbGciOiJIUzI1NiIs...
   ```

## 5. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π —Ç–∞ –∑–∞–ø—É—Å–∫

```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python main.py
```

## 6. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –±–æ—Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:

```bash
python test_supabase.py
```

–Ø–∫—â–æ –≤—Å–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ:
```
üéâ –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ–π—à–ª–∏ —É—Å–ø—ñ—à–Ω–æ!
‚úÖ Supabase –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ä–æ–±–æ—Ç–∏
üöÄ –ú–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –±–æ—Ç–∞: python main.py
```

## 7. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python main.py
```

–£ –ª–æ–≥–∞—Ö –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ:
```
INFO - –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Supabase —É—Å–ø—ñ—à–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
INFO - –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ
```

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä –≤–∞—à –±–æ—Ç –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ä–æ–±–æ—Ç–∏ –∑ Supabase!

## ‚ùó –¢–∏–ø–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏

### `ValueError: SUPABASE_URL —Ç–∞ SUPABASE_KEY –º–∞—é—Ç—å –±—É—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ`
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ —Ñ–∞–π–ª `bot_config.env` —ñ—Å–Ω—É—î
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –∑–º—ñ–Ω–Ω–∏—Ö —É —Ñ–∞–π–ª—ñ

### `relation "invoices" does not exist`
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ –≤–∏–∫–æ–Ω–∞–ª–∏ SQL –∫–æ–º–∞–Ω–¥–∏ –∑ `supabase_setup.sql`
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ Supabase Dashboard ‚Üí Table Editor, —â–æ —Ç–∞–±–ª–∏—Ü—ñ —Å—Ç–≤–æ—Ä–µ–Ω—ñ

### –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ `bot_config.env`
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —É —Ñ–∞–π–ª—ñ `bot.log`

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ `bot.log`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å Supabase –ø—Ä–æ–µ–∫—Ç—É –≤ Dashboard
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ 