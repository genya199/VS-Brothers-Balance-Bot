# üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤, —è–∫—ñ —Ö–æ—á—É—Ç—å –∑—Ä–æ–∑—É–º—ñ—Ç–∏ —É—Å—Ç—Ä—ñ–π –±–æ—Ç–∞.

## üìã –û–≥–ª—è–¥

Telegram –±–æ—Ç –¥–ª—è –æ–±–ª—ñ–∫—É –ø–ª–∞—Ç–µ–∂—ñ–≤ –∑–∞ –ø–µ—Ä–µ–≤–µ–∑–µ–Ω–Ω—è –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤, –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –Ω–∞:
- **aiogram 3.x** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram –±–æ—Ç—ñ–≤
- **Supabase** - Backend-as-a-Service –∑ PostgreSQL
- **FSM (Finite State Machine)** - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç–∞–Ω–∞–º–∏ –¥—ñ–∞–ª–æ–≥—É

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### üìÅ –û—Å–Ω–æ–≤–Ω—ñ –º–æ–¥—É–ª—ñ

#### `main.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É, –æ—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –±–æ—Ç–∞
- **–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å**: 
  - –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–æ—Ç–∞ —Ç–∞ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
  - –û–±—Ä–æ–±–Ω–∏–∫–∏ –∫–æ–º–∞–Ω–¥ —Ç–∞ –∫–æ–ª–±–µ–∫—ñ–≤
  - –ú–∞—à–∏–Ω–∞ —Å—Ç–∞–Ω—ñ–≤ (FSM)
- **–ö–ª—é—á–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó**:
  - `cmd_start()` - –æ–±—Ä–æ–±–∫–∞ –∫–æ–º–∞–Ω–¥–∏ /start
  - `process_invoice_text()` - –ø–∞—Ä—Å–∏–Ω–≥ —Ä–∞—Ö—É–Ω–∫—ñ–≤
  - `process_payment_amount()` - –æ–±—Ä–æ–±–∫–∞ –ø–ª–∞—Ç–µ–∂—ñ–≤

#### `supabase_database.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ê–±—Å—Ç—Ä–∞–∫—Ü—ñ—è —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
- **–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å**:
  - CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ —Ä–∞—Ö—É–Ω–∫–∞–º–∏, –ø–ª–∞—Ç–µ–∂–∞–º–∏, –±–∞–ª–∞–Ω—Å–æ–º
  - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º –¥–æ Supabase
- **–ö–ª—é—á–æ–≤—ñ –º–µ—Ç–æ–¥–∏**:
  - `add_invoice()` / `add_payment()` - –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Å—ñ–≤
  - `get_balance()` / `get_history()` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
  - `delete_*()` - –≤–∏–¥–∞–ª–µ–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ–π

#### `keyboards.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (Inline –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏)
- **–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å**:
  - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–Ω–æ–ø–æ–∫ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –º–µ–Ω—é
  - –ö–∞–ª–µ–Ω–¥–∞—Ä –¥–ª—è –≤–∏–±–æ—Ä—É –¥–∞—Ç
  - –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö
- **–ö–ª—é—á–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó**:
  - `get_main_menu()` - –≥–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é
  - `get_calendar()` - —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä
  - `get_history_keyboard()` - –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è —ñ—Å—Ç–æ—Ä—ñ—ó

#### `utils.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —Ç–∞ —É—Ç–∏–ª—ñ—Ç–∏
- **–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å**:
  - –ü–∞—Ä—Å–∏–Ω–≥ —Å—É–º –∑ —Ç–µ–∫—Å—Ç—É
  - –í–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∞–≤—Ç–æ
  - –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –¥–∞—Ç —Ç–∞ –≤–∞–ª—é—Ç
- **–ö–ª—é—á–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó**:
  - `parse_amount_from_text()` - —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —Å—É–º
  - `extract_car_info()` - –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∞–≤—Ç–æ
  - `validate_amount()` - –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –≤–≤–µ–¥–µ–Ω–∏—Ö —Å—É–º

#### `config.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏
- **–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å**:
  - –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
  - –¢–µ–∫—Å—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
  - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ñ–æ—Ä–º–∞—Ç—ñ–≤

### üîß –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ–∞–π–ª–∏

#### `test_supabase.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Supabase
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

#### `supabase_setup.sql`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –≤ Supabase

## üóÑÔ∏è –ú–æ–¥–µ–ª—å –¥–∞–Ω–∏—Ö

### –¢–∞–±–ª–∏—Ü—ñ

#### `invoices` (—Ä–∞—Ö—É–Ω–∫–∏)
```sql
id BIGSERIAL PRIMARY KEY
user_id BIGINT NOT NULL          -- Telegram ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
car_info TEXT NOT NULL           -- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∞–≤—Ç–æ (–º–æ–¥–µ–ª—å, VIN)
amount DECIMAL(10,2) NOT NULL    -- –°—É–º–∞ —Ä–∞—Ö—É–Ω–∫—É
original_text TEXT NOT NULL      -- –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π —Ç–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
date_created TIMESTAMP           -- –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
```

#### `payments` (–ø–ª–∞—Ç–µ–∂—ñ)
```sql
id BIGSERIAL PRIMARY KEY
user_id BIGINT NOT NULL          -- Telegram ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
amount DECIMAL(10,2) NOT NULL    -- –°—É–º–∞ –ø–ª–∞—Ç–µ–∂—É
date_paid TEXT NOT NULL          -- –î–∞—Ç–∞ –ø–ª–∞—Ç–µ–∂—É (DD.MM.YYYY)
date_created TIMESTAMP           -- –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É
```

#### `balance` (–±–∞–ª–∞–Ω—Å–∏)
```sql
user_id BIGINT PRIMARY KEY       -- Telegram ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
current_balance DECIMAL(10,2)    -- –ü–æ—Ç–æ—á–Ω–∏–π –±–∞–ª–∞–Ω—Å (+ –ø–µ—Ä–µ–ø–ª–∞—Ç–∞, - –±–æ—Ä–≥)
last_updated TIMESTAMP           -- –û—Å—Ç–∞–Ω–Ω—è –¥–∞—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
```

### –ó–≤'—è–∑–∫–∏

- **–û–¥–∏–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á** ‚Üí **–±–∞–≥–∞—Ç–æ —Ä–∞—Ö—É–Ω–∫—ñ–≤** (1:N)
- **–û–¥–∏–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á** ‚Üí **–±–∞–≥–∞—Ç–æ –ø–ª–∞—Ç–µ–∂—ñ–≤** (1:N)  
- **–û–¥–∏–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á** ‚Üí **–æ–¥–∏–Ω –±–∞–ª–∞–Ω—Å** (1:1)

## üîÑ –ü–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö

### –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ä–∞—Ö—É–Ω–∫—É
```
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞–¥—Å–∏–ª–∞—î —Ç–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥ –∫–æ–º–ø–∞–Ω—ñ—ó
2. parse_amount_from_text() –≤–∏—Ç—è–≥—É—î —Å—É–º—É
3. extract_car_info() —Ä–æ–∑–ø—ñ–∑–Ω–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∞–≤—Ç–æ
4. add_invoice() –¥–æ–¥–∞—î –∑–∞–ø–∏—Å –¥–æ –ë–î
5. _update_balance() –≤—ñ–¥–Ω—ñ–º–∞—î —Å—É–º—É –∑ –±–∞–ª–∞–Ω—Å—É
6. –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
```

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–ª–∞—Ç–µ–∂—É
```
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å —Å—É–º—É –ø–ª–∞—Ç–µ–∂—É
2. validate_amount() –ø–µ—Ä–µ–≤—ñ—Ä—è—î –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å
3. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î –¥–∞—Ç—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ
4. add_payment() –¥–æ–¥–∞—î –∑–∞–ø–∏—Å –¥–æ –ë–î
5. _update_balance() –¥–æ–¥–∞—î —Å—É–º—É –¥–æ –±–∞–ª–∞–Ω—Å—É
6. –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
```

### –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó
```
1. get_history() –æ—Ç—Ä–∏–º—É—î –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –ë–î
2. –û–±'—î–¥–Ω–∞–Ω–Ω—è —Ä–∞—Ö—É–Ω–∫—ñ–≤ —Ç–∞ –ø–ª–∞—Ç–µ–∂—ñ–≤
3. –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –ø–æ –¥–∞—Ç—ñ (–Ω–∞–π–Ω–æ–≤—ñ—à—ñ —Å–ø–æ—á–∞—Ç–∫—É)
4. –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
5. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ –∑ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—î—é
```

## üöÄ –ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å

### –ü–æ—Ç–æ—á–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è
- **–û–¥–Ω–æ—Ä–∞–∑–æ–≤–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è**: –û–¥–∏–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á = –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –æ–ø–µ—Ä–∞—Ü—ñ–π
- **–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó**: –û–ø–µ—Ä–∞—Ü—ñ—ó –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ
- **–ü–∞–º'—è—Ç—å**: FSM —Å—Ç–∞–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `MemoryStorage`

### –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
1. **Redis storage** –¥–ª—è FSM —Å—Ç–∞–Ω—ñ–≤
2. **Connection pooling** –¥–ª—è Supabase
3. **–ö–µ—à—É–≤–∞–Ω–Ω—è** –∑–∞–ø–∏—Ç—ñ–≤ —á–µ—Ä–µ–∑ Redis
4. **Batch –æ–ø–µ—Ä–∞—Ü—ñ—ó** –¥–ª—è –º–∞—Å–æ–≤–∏—Ö —ñ–º–ø–æ—Ä—Ç—ñ–≤
5. **Rate limiting** –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ —Å–ø–∞–º—É

## üîí –ë–µ–∑–ø–µ–∫–∞

### –ü–æ—Ç–æ—á–Ω—ñ –∑–∞—Ö–æ–¥–∏
- **Environment variables** –¥–ª—è —Å–µ–∫—Ä–µ—Ç—ñ–≤
- **Row Level Security** –≤ Supabase (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤–≤–µ–¥–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö**
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ–π**

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
1. **HTTPS-only** –¥–ª—è webhooks
2. **Whitelist –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤** (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
3. **Backup —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è** –¥–ª—è Supabase
4. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥** –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –º–µ—Ç—Ä–∏–∫
5. **Rate limiting** –Ω–∞ —Ä—ñ–≤–Ω—ñ Telegram API

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ü–æ—Ç–æ—á–Ω—ñ —Ç–µ—Å—Ç–∏
- `test_supabase.py` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î

### –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏
```python
# Unit —Ç–µ—Å—Ç–∏
test_parse_amount_from_text()
test_extract_car_info()
test_validate_amount()

# Integration —Ç–µ—Å—Ç–∏  
test_add_invoice_flow()
test_add_payment_flow()
test_balance_calculation()

# E2E —Ç–µ—Å—Ç–∏
test_full_user_journey()
```

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏
- **–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤** (DAU/MAU)
- **–ö—ñ–ª—å–∫—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π** (—Ä–∞—Ö—É–Ω–∫–∏/–ø–ª–∞—Ç–µ–∂—ñ –Ω–∞ –¥–µ–Ω—å)
- **–ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ** API –∑–∞–ø–∏—Ç—ñ–≤
- **–ü–æ–º–∏–ª–∫–∏** —Ç–∞ exception rate
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ë–î** (storage, –∑–∞–ø–∏—Ç–∏)

### –õ–æ–≥—É–≤–∞–Ω–Ω—è
```python
# –ü–æ—Ç–æ—á–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è
logger.info(f"–†–∞—Ö—É–Ω–æ–∫ –¥–æ–¥–∞–Ω–æ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ {user_id}")
logger.error(f"–ü–æ–º–∏–ª–∫–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ä–∞—Ö—É–Ω–∫—É: {e}")

# –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è)
logger.info("invoice_added", extra={
    "user_id": user_id,
    "amount": amount,
    "car_info": car_info
})
```

## üîß Deployment

### Development
```bash
python main.py  # –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫
```

### Production (Heroku)
```bash
heroku ps:scale worker=1  # –ó–∞–ø—É—Å–∫ worker dyno
```

### Environment Variables
```bash
BOT_TOKEN=telegram_bot_token
SUPABASE_URL=https://project.supabase.co
SUPABASE_KEY=supabase_anon_key
```

## üîÆ –ú–∞–π–±—É—Ç–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ
- **–ï–∫—Å–ø–æ—Ä—Ç –≤ Excel/PDF**
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞**
- **–ù–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ø—Ä–æ –±–æ—Ä–≥–∏**
- **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –ø–ª–∞—Ç—ñ–∂–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏**
- **–ú—É–ª—å—Ç–∏-–≤–∞–ª—é—Ç–Ω—ñ—Å—Ç—å**

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ
- **–í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å** (Django/FastAPI)
- **API endpoints** –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π
- **Webhook –∑–∞–º—ñ—Å—Ç—å polling**
- **Microservices –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞**
- **GraphQL API** —á–µ—Ä–µ–∑ Supabase 