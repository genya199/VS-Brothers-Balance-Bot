# 📋 ПІДТРИМУВАНІ ФОРМАТИ ПОВІДОМЛЕНЬ

## 🎯 ЯК БОТ ОБИРАЄ СУМУ З КІЛЬКОХ ЦИФР?

Бот використовує **систему пріоритетів** для визначення основної суми рахунку.

## 🏆 ПРІОРИТЕТИ ПОШУКУ СУМ

### 1️⃣ **НАЙВИЩИЙ ПРІОРИТЕТ** ⭐
```
= 848 євро
= 1200 euro  
= €950
```
**Логіка**: Знак `=` завжди означає підсумкову суму

### 2️⃣ **ВИСОКИЙ ПРІОРИТЕТ** 🥈
```
комплекс 800 євро
комплекс 1500 euro
```
**Логіка**: "Комплекс" - це основна послуга

### 3️⃣ **СЕРЕДНІЙ ПРІОРИТЕТ** 🥉
```
до сплати 740 євро
до сплати 1200 euro
сплати 950 євро
```
**Логіка**: Фрази що вказують на загальну суму

### 4️⃣ **ЗАГАЛЬНИЙ ПРІОРИТЕТ** 📝
```
950 євро
1200 euro
€850
1300EUR
```
**Логіка**: Остання знайдена сума з валютою

## 📝 ПІДТРИМУВАНІ ФОРМАТИ СУМ

### 💰 **Валюти:**
- `євро` / `euro` / `EUR` / `eur`
- `€` (символ євро)
- `$` / `USD` / `usd` (долари)

### 🔢 **Формати чисел:**
- `740` (ціле число)
- `740.50` (з крапкою)
- `740,50` (з комою)
- `1 200` (з пробілами)

### 📋 **Приклади повних форматів:**

#### ✅ **РОЗПІЗНАЄТЬСЯ ПРАВИЛЬНО:**
```
2017HYUNDAI SANTAFE	5XYZUDLA8HG502333
Авто завантажено на автовоз.
До сплати
комплекс 800 євро
стоянка по 27/06 - 48 євро
= 848 євро
```
**Результат**: 848€ (через найвищий пріоритет "=")

```
BMW X5 2020
Перевезення комплекс 1200 євро
Стоянка 3 дні - 150 євро  
Всього: 1350 євро
```
**Результат**: 1200€ (через пріоритет "комплекс")

```
Mercedes C-Class завантажено
Різні послуги та витрати
До сплати 950 євро
```
**Результат**: 950€ (через "до сплати")

#### ❌ **НЕ РОЗПІЗНАЄТЬСЯ:**
```
Авто завантажено
Оплата завтра
Контакт: +380501234567
```
**Причина**: Немає суми з валютою

## 🚗 РОЗПІЗНАВАННЯ ІНФОРМАЦІЇ ПРО АВТО

### 📋 **Підтримувані формати:**

#### 1️⃣ **VIN код (17 символів):**
```
5XYZUDLA8HG502333
WVWZZZ1JZYW123456
```

#### 2️⃣ **Рік + Марка + Модель:**
```
2017HYUNDAI SANTAFE
2020BMW X5
2018TESLA MODEL S
```

#### 3️⃣ **Марка + Модель:**
```
BMW X5
Tesla Model S
Mercedes C-Class
Audi A8 2020
```

#### 4️⃣ **Складні формати:**
```
2018TESLA MODEL S 5YJSA1E22JF272454
BMW X5 2019 VIN: WBAFA41050LM12345
```

## 🧠 ЛОГІКА ВИБОРУ

### 📊 **Алгоритм:**
1. **Нормалізація тексту** (видалення зайвих пробілів)
2. **Пошук за пріоритетами** (зверху вниз)
3. **Вибір останньої суми** з найвищого знайденого пріоритету
4. **Валідація суми** (> 0, < 1,000,000)

### 💡 **Приклад обробки:**
```
Текст: "комплекс 800 євро, стоянка 48 євро, = 848 євро"

Крок 1: Шукаємо "= X євро" → Знайдено: 848€
Крок 2: ЗУПИНЯЄМОСЬ (найвищий пріоритет)
Результат: 848€
```

## ✅ **РЕКОМЕНДАЦІЇ ДЛЯ КОРИСТУВАЧІВ**

### 📌 **Для надійного розпізнавання:**
1. **Використовуйте знак `=`** для підсумкової суми
2. **Вказуйте валюту** (євро, euro, €)
3. **Додавайте інформацію про авто** на початку
4. **Уникайте зайвих цифр** без валюти

### 🎯 **Ідеальний формат:**
```
[ІНФОРМАЦІЯ_ПРО_АВТО]
[ДЕТАЛІ_ПОСЛУГ]
= [ПІДСУМКОВА_СУМА] євро
```

## 📋 ФОРМАТ ВІДОБРАЖЕННЯ ІСТОРІЇ

### 🧾 **Рахунки:**
```
🧾 2017HYUNDAI SANTAFE | 5XYZUDLA8HG502333 | -848.00€ | 07.07.2025
```
- 🧾 - емодзі рахунку
- Модель авто окремо від VIN коду
- Сума з мінусом (борг)
- Дата у форматі DD.MM.YYYY

### 🎯 **Платежі за конкретний рахунок:**
```
🎯 +123.00€ | За: 2017HYUNDAI SANTAFE | 07.07.2025
```
- 🎯 - емодзі платежу за рахунок
- Сума з плюсом
- Модель авто за який сплачено
- Дата у форматі DD.MM.YYYY

### 💰 **Платежі на баланс:**
```
💰 +150.00€ | На баланс | 07.07.2025
```
- 💰 - емодзі платежу на баланс
- Сума з плюсом
- Позначка "На баланс"
- Дата у форматі DD.MM.YYYY

## 🚀 **ГОТОВО ДО ВИКОРИСТАННЯ!**

Бот розуміє **99% реальних повідомлень** від компаній з перевезення автомобілів.

**Якщо виникають проблеми** - перевірте чи є валюта поруч з сумою! 💰 